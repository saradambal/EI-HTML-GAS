<!--//*******************************************FILE DESCRIPTION*********************************************//
<!--//*****************************************STAFF EXPENSE DAILY ENTRY*********************************************//
//DONE BY:PUNI
//VER 1.9 SD:09/10/2014 ED:09/10/2014, TRACKER NO:701//1.added script to hide preloader after menu n form loads,2.changed preloader n msgbox position
//VER 1.8 SD:27/09/2014 ED:27/09/2014, TRACKER NO:701//COMMENT:31,1.implemented staff salary new sp for duplicate month record,2.removed preloader n msgbox position,3.corrected submit button validatn when clicking same emp radio btn
//DONE BY:SARADAMBAL M
//VER 1.7 SD:01/09/2014 ED:01/09/2014, TRACKER NO:701//updated new links,n script for autogrow
//VER 1.6 SD:10/06/2014 ED:10/06/2014, TRACKER NO:701//implemented script for commit,failure function
//VER 1.5 SD:07/06/2014 ED:07/06/2014, TRACKER NO:701//updated new link
//VER 1.4 SD:02/06/2014 ED:03/02/2014, TRACKER NO:701//changed amt digit for agent-4,staff-3 and salary,levy,cpf-5
//VER 1.3 SD:12/04/2014 ED:15/04/2014, TRACKER NO:701//implemented scipt for comments ,corrected validation for salary,cpf,levey amt
//VER 1.2 SD:07/04/2014 ED:07/04/2014,TRACKER NO:701//show one row after insertion in multirow creation,implemented class for datemandatory for dp and checked all invoice date,paid date
//VER 1.1 SD:10/03/2014 ED:14/03/2014, TRACKER NO:701//CLEARED ALIGNMENT ISSUE,IMPLEMENT ARR CONCEPT TO REDUCE CODING,IMPLEMENT ULD_ID INSTEAD OF USING USERSTAMP,IMPLEMENT RADIO FOR DUPLICATE EMPLOYEE NAME,IMPLEMENT EILIB FOR COMMENTS (SPECIAL CHARACTER),IMPLEMENT SP FOR STAFF_EXPENSE
//DONE BY:ELANGO
//VER 0.10 SD:28/01/2014 ED:01/02/2014,TRACKER NO:449//REDUCE THE CODING AND SCRIPT,CHECK THE VALIDATION.
//VER 0.09 SD:09/01/2014 ED:09/01/2014,TRACKER NO:449//CHECK ALL THE DEFECT AND CLEARED(SUBMIT BUTTON VALIDATION, AND HIDE THE CONTROL).
//VER 0.08 SD:03/01/2014 ED:03/01/2014,TRACKER NO:449//CHANGE THE USING DIRECT QUERY IN THE EXECUTION PART
//VER 0.07 SD:03/01/2014 ED:03/01/2014,TRACKER NO:449//CHECK FORM WHICH IS LOAD CORRECTLY.
//VER 0.06 SD:29/12/2013 ED:30/12/2013,TRACKER NO:449//CHANGE THE EILIB CONNECTION AND HEADER TAG.
//VER 0.05 SD:21/12/2013 ED:21/12/2013,TRACKER NO:449//PUT THE ERROE MESSAGE FOR EMPTY TABLE.
//VER 0.04 SD:14/12/2013 ED:14/12/2013,TRACKER NO:449//CHANGE THE SCRIPT NAME.
//VER 0.03 SD:30/11/2013 ED:30/11/2013,TRACKER NO:449//CHANGE THE VERSION  COMMENDS AND LINKS
//VER 0.02 SD:25/11/2013 ED:25/11/2013,TRACKER NO:449//DELETE THE MULTIROW AFTER THE SUBMITION.
//VER 0.01-INITIAL VERSION, SD:27/08/2013 ED:04/09/2013,TRACKER NO:449
//*********************************************************************************************************//
-->
<!-- STARTING OF HTML ELEMENT FOR CREATING FORM -->
<!--HTML TAG START-->
<html>
<!--HEAD TAG START-->
<head>
<!----------------------------COMMON JQUERY LINKS START---------------------------->
<!--TO SUPPORT JQUERY FUNCTIONALITIES-->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<!--TO SUPPORT JQUERY UI FUNCTIONALITIES-->
<script src="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/jquery-ui.min.js"></script>
<!--TO SUPPORT OLD FUNCTIONALITIES-->
<script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<!--TO SUPPORT DATE PICKER CSS-->
<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/themes/smoothness/jquery-ui.css" />
<!----------------------------COMMON JQUERY LINKS END---------------------------->
<!----------------------------CUSTOMIZED JQUERY LINKS START---------------------------->
<!--TO SUPPORT JQUERY LIB VALIDATION-->
<script src="https://googledrive.com/host/0B5pkfK_IBDxjU1FrR3hVTXB4a28/JQuery.js"></script>
<!--TO SUPPORT FORM CSS-->
<link rel="stylesheet" href="https://googledrive.com/host/0B5pkfK_IBDxjU1FrR3hVTXB4a28/StyleSheet.css">
<!----------------------------CUSTOMIZED JQUERY LINKS END---------------------------->
<script>
//CHECK PRELOADER STATUS N HIDE START
var SubPage=1;
function CheckPageStatus(){
if(MenuPage!=1 && SubPage!=1)
$(".preloader").hide();
}
//CHECK PRELOADER STATUS N HIDE END
//READY FUNCTION.................
$(document).ready(function(){
var STDLY_INPUT_categorytypearray=[];
var STDLY_INPUT_currentsal='';
var STDLY_INPUT_currentcpf='';
var STDLY_INPUT_currentlevy='';
var STDLY_SEARCH_arr_employeeRadio=[];
//VALIDATION CLASS//
$('textarea').autogrow({onInitialize: true});
$(".numonly").doValidation({rule:'numbersonly',prop:{realpart:5}});
$("#STDLY_INPUT_tb_amount").doValidation({rule:'numbersonly',prop:{realpart:4,imaginary:2}});
$(".amtonly").doValidation({rule:'numbersonly',prop:{realpart:3,imaginary:2}});
$(".amtonlysalary").doValidation({rule:'numbersonly',prop:{realpart:5,imaginary:2}});
$(".autosize").doValidation({rule:'general',prop:{autosize:true}});
$(".preloader").show(); 
$('#STDLY_INPUT_btn_staffsbutton').hide();
$('#STDLY_INPUT_lbl_date').hide();
$('#STDLY_INPUT_lbl_cursal').hide();
$('#STDLY_INPUT_lbl_newsal').hide();
$('#STDLY_INPUT_lbl_cpamt').hide();
$('#STDLY_INPUT_lbl_newcamt').hide();
$('#STDLY_INPUT_lbl_curlamt').hide();
$('#STDLY_INPUT_lbl_newlamt').hide();
$('#STDLY_INPUT_db_selectdate').hide();
$('#STDLY_INPUT_lbl_amount').hide();
$('#STDLY_INPUT_lbl_emp').hide();
$('#STDLY_INPUT_tb_amount').hide();
$('#STDLY_INPUT_lbl_comments').hide();
$('#STDLY_INPUT_ta_comment').hide();
$('#STDLY_INPUT_btn_sbutton').hide();
$('#STDLY_INPUT_tble_multi').hide();
$('#STDLY_INPUT_btn_rbutton').hide();
$('#STDLY_INPUT_lb_category').hide();
google.script.run.withFailureHandler(STDLY_INPUT_onFailure).withSuccessHandler(STDLY_SEARCH_loadtypeofexpense).STDLY_INPUT_loadfistlistbox()
//LOAD THE TYPE OF LISTBOX IN THE FIRST LISTBOX...................
var STDLY_SEARCH_checktable=[];
var STDLY_SEARCH_emcmsg=[];
var STDLY_SEARCH_empdtltable=[];
var STDLY_SEARCH_liststaffvaluesarray;
var STDLY_SEARCH_liststaffidvaluesarray
function STDLY_SEARCH_loadtypeofexpense(STDLY_SEARCH_loadtypeofexpense)
{
STDLY_SEARCH_checktable=STDLY_SEARCH_loadtypeofexpense[1];
STDLY_SEARCH_emcmsg=STDLY_SEARCH_loadtypeofexpense[2];
STDLY_SEARCH_empdtltable=STDLY_SEARCH_loadtypeofexpense[3];
STDLY_SEARCH_liststaffvaluesarray=STDLY_SEARCH_loadtypeofexpense[0][0];
STDLY_SEARCH_liststaffidvaluesarray=STDLY_SEARCH_loadtypeofexpense[0][1];
var options ='';
for (var i = 0; i < STDLY_SEARCH_liststaffvaluesarray.length; i++) {
if( i>=5 && i<=7)
{
options += '<option value="' + STDLY_SEARCH_liststaffidvaluesarray[i] + '">' + STDLY_SEARCH_liststaffvaluesarray[i] + '</option>';
}
}
$('#STDLY_INPUT_lb_typelist').html(options);
STDLY_INPUT_Sortit('STDLY_INPUT_lb_typelist')
$('#STDLY_INPUT_lb_typelist').show();
$('#STDLY_INPUT_lbl_type').show();
//TO HIDE PRELOADER START
SubPage=0;
CheckPageStatus();
//TO HIDE PRELOADER END
}
function STDLY_INPUT_unique(a) {
var result = [];
$.each(a, function(i, e) {
if ($.inArray(e, result) == -1) result.push(e);
});
return result;
}
//LOADING FORM IF CHANGE THE FIRST  TYPE OF EXPENSE//
$('#STDLY_INPUT_lb_typelist').change(function(){ 
$('textarea').height(20);
var STDLY_INPUT_listvalue=$('#STDLY_INPUT_lb_typelist').val();
$('#STDLY_INPUT_lbl_erromsg').hide();
$('#STDLY_INPUT_tble_multipleemployee').empty();
$('#STDLY_INPUT_lbl_edtlerromsg').hide();
$('#STDLY_INPUT_tble_multi').hide();
$("#STDLY_INPUT_lb_category1")[0].selectedIndex = 0;
$("#STDLY_INPUT_db_invdate1").val('');
$("#STDLY_INPUT_lb_incamtrp1").val('');
$("#STDLY_INPUT_ta_invitem1").val('');
$("#STDLY_INPUT_tb_invfrom1").val('');
$("#STDLY_INPUT_tb_comments1").val('');
$('#STDLY_INPUT_btn_staffsbutton').hide();
$("#STDLY_INPUT_tb_invfrom1").prop("size","20");//set default size for textbox
//TYPE OF EXPENSE AT SELECT OPTION//
if(STDLY_INPUT_listvalue=="SELECT")
{$(".preloader").hide();
$('#STDLY_INPUT_lb_category1').val('');
$('#STDLY_INPUT_db_invdate1').val('');
$('#STDLY_INPUT_lb_incamtrp1').val('');
$('#STDLY_INPUT_ta_invitem1').val('');
$('#STDLY_INPUT_tb_invfrom1').val('');
$('#STDLY_INPUT_tb_comments1').val('');
$('#STDLY_INPUT_tb_hidesal1').val('');
$('#STDLY_INPUT_tb_hidecpf1').val('');
$('input[name="STDLY_INPUT_radio_slramt"]').prop('checked', false);
$('input[name="STDLY_INPUT_radio_cpfamt"]').prop('checked', false);
$('input[name="STDLY_INPUT_radio_levyamt"]').prop('checked', false);
$('#STDLY_INPUT_btn_sbutton').hide();
$('#STDLY_INPUT_btn_staffsbutton').hide();
$('#STDLY_INPUT_tble_multi').hide();
$('#STDLY_INPUT_lbl_cursal').hide();
$('#STDLY_INPUT_lbl_newsal').hide();
$('#STDLY_INPUT_lbl_cpamt').hide();
$('#STDLY_INPUT_lbl_currentsalary').hide();
$('#STDLY_INPUT_lbl_newcamt').hide();
$('#STDLY_INPUT_lbl_curlamt').hide();
$('#STDLY_INPUT_lbl_newlamt').hide();
$('#STDLY_INPUT_lbl_emp').hide();
$('#STDLY_INPUT_lbl_date').hide();
$('#STDLY_INPUT_db_selectdate').hide();
$('#STDLY_INPUT_lbl_amount').hide();
$('#STDLY_INPUT_tb_amount').hide();
$('#STDLY_INPUT_db_selectdate').val('');
$('#STDLY_INPUT_tb_amount').val('');
$('#STDLY_INPUT_ta_comment').val('');
$('#STDLY_INPUT_lbl_comments').hide();
$('#STDLY_INPUT_ta_comment').hide();
$('#STDLY_INPUT_lbl_name').hide();
$('#STDLY_INPUT_lb_namelist').hide();
$('#STDLY_INPUT_lbl_newcamt').hide();
$('#STDLY_INPUT_lbl_cpf').hide();
$('#STDLY_INPUT_tb_cpfno').hide();
$('#STDLY_INPUT_lbl_paid').hide();
$('#STDLY_INPUT_db_paiddate').hide();
$('#STDLY_INPUT_lbl_from').hide();
$('#STDLY_INPUT_db_fromdate').hide();
$('#STDLY_INPUT_lbl_to').hide();
$('#STDLY_INPUT_db_todate').hide();
$('#STDLY_INPUT_db_todate').val('');
$('#STDLY_INPUT_db_fromdate').val('');
$('#STDLY_INPUT_db_paiddate').val('');
$('#STDLY_INPUT_tb_cpfno').val('');
$('#STDLY_INPUT_radio_currentslr').hide();
$('#STDLY_INPUT_radio_newslr').hide();
$('#STDLY_INPUT_radio_currentcpfamt').hide();
$('#STDLY_INPUT_radio_newcpfamt').hide();
$('#STDLY_INPUT_radio_currentlevyamt').hide();
$('#STDLY_INPUT_radio_newlevyamt').hide();
$('#STDLY_INPUT_lbl_salarycomments').hide();
$('#STDLY_INPUT_ta_salarycommentsbox').hide();
$('#STDLY_INPUT_btn_rbutton').hide();
$('#STDLY_INPUT_lbl_expense').hide();
$('#STDLY_INPUT_lbl_invdate').hide();
$('#STDLY_INPUT_lbl_invamt').hide();
$('#STDLY_INPUT_lbl_invitm').hide();
$('#STDLY_INPUT_lbl_invfrom').hide();
$('#STDLY_INPUT_lbl_invcmt').hide();
$('#STDLY_INPUT_lbl_add').hide();
$('#STDLY_INPUT_lbl_del').hide();
$('#STDLY_INPUT_lb_category1').hide();
$('#STDLY_INPUT_db_invdate1').hide();
$('#STDLY_INPUT_lb_incamtrp1').hide();
$('#STDLY_INPUT_ta_invitem1').hide();
$('#STDLY_INPUT_tb_invfrom1').hide();
$('#STDLY_INPUT_tb_comments1').hide();
$('#STDLY_INPUT_btn_addbtn1').hide();
$('#STDLY_INPUT_btn_delbtn1').hide();
$('#STDLY_INPUT_tb_hidesal').hide();
$('#STDLY_INPUT_tb_hidesal1').hide();
$('#STDLY_INPUT_tb_hidecpf').hide();
$('#STDLY_INPUT_tb_hidecpf1').hide();
$('#STDLY_INPUT_tb_hidelevy').hide();
$('#STDLY_INPUT_tb_hidelevy1').hide();
}
//TYPE OF EXPENSE AT AGENT COMMISSION OPTION....................
if(STDLY_INPUT_listvalue==39)
{$(".preloader").hide(); 
$('#STDLY_INPUT_db_selectdate').val('');
$('#STDLY_INPUT_tb_amount').val('');
$('#STDLY_INPUT_ta_comment').val('');
$('#STDLY_INPUT_db_todate').val('');
$('#STDLY_INPUT_db_fromdate').val('');
$('#STDLY_INPUT_db_paiddate').val('');
$('#STDLY_INPUT_tb_cpfno').val('');
$('#STDLY_INPUT_tb_hidesal').hide();
$('#STDLY_INPUT_tb_hidesal1').hide();
$('#STDLY_INPUT_tb_hidecpf').hide();
$('#STDLY_INPUT_tb_hidecpf1').hide();
$('#STDLY_INPUT_tb_hidelevy').hide();
$('#STDLY_INPUT_tb_hidelevy1').hide();
$('#STDLY_INPUT_lbl_cursal').hide();
$('#STDLY_INPUT_lbl_newsal').hide();
$('#STDLY_INPUT_lbl_cpamt').hide();
$('#STDLY_INPUT_lbl_newcamt').hide();
$('#STDLY_INPUT_lbl_curlamt').hide();
$('#STDLY_INPUT_lbl_newlamt').hide();
$('#STDLY_INPUT_lbl_emp').hide();
$('#STDLY_INPUT_lbl_date').hide();
$('#STDLY_INPUT_db_selectdate').hide();
$('#STDLY_INPUT_lbl_amount').hide();
$('#STDLY_INPUT_tb_amount').hide();
$('#STDLY_INPUT_lbl_comments').hide();
$('#STDLY_INPUT_ta_comment').hide();
$('#STDLY_INPUT_lbl_date').show();
$('#STDLY_INPUT_db_selectdate').datepicker("option","maxDate",new Date()); 
$('#STDLY_INPUT_db_selectdate').show();
$('#STDLY_INPUT_lbl_amount').show();
$('#STDLY_INPUT_tb_amount').show();
$('#STDLY_INPUT_lbl_comments').show();
$('#STDLY_INPUT_ta_comment').show();
$('#STDLY_INPUT_btn_sbutton').show();
$('#STDLY_INPUT_btn_rbutton').show();
$('#STDLY_INPUT_lbl_expense').hide();
$('#STDLY_INPUT_lbl_invdate').hide();
$('#STDLY_INPUT_lbl_invamt').hide();
$('#STDLY_INPUT_lbl_invitm').hide();
$('#STDLY_INPUT_lbl_invfrom').hide();
$('#STDLY_INPUT_lbl_invcmt').hide();
$('#STDLY_INPUT_lbl_add').hide();
$('#STDLY_INPUT_lbl_del').hide();
$('#STDLY_INPUT_lb_category').hide();
$('#STDLY_INPUT_lb_invdate').hide();
$('#STDLY_INPUT_lb_incamtrp').hide();
$('#STDLY_INPUT_ta_invitem').hide();
$('#STDLY_INPUT_tb_invfrom').hide();
$('#STDLY_INPUT_tb_comments').hide();
$('#STDLY_INPUT_btn_addbtn').hide();
$('#STDLY_INPUT_btn_delbtn').hide();
$('#STDLY_INPUT_lbl_name').hide();
$('#STDLY_INPUT_lb_namelist').hide();
$('#STDLY_INPUT_lbl_cpf').hide();
$('#STDLY_INPUT_tb_cpfno').hide();
$('#STDLY_INPUT_lbl_paid').hide();
$('#STDLY_INPUT_db_paiddate').hide();
$('#STDLY_INPUT_lbl_from').hide();
$('#STDLY_INPUT_db_fromdate').hide();
$('#STDLY_INPUT_lbl_to').hide();
$('#STDLY_INPUT_db_todate').hide();
$('#STDLY_INPUT_radio_currentslr').hide();
$('#STDLY_INPUT_radio_newslr').hide();
$('#STDLY_INPUT_radio_currentcpfamt').hide();
$('#STDLY_INPUT_radio_newcpfamt').hide();
$('#STDLY_INPUT_radio_currentlevyamt').hide();
$('#STDLY_INPUT_radio_newlevyamt').hide();
$('#STDLY_INPUT_lbl_salarycomments').hide();
$('#STDLY_INPUT_ta_salarycommentsbox').hide();
$('#STDLY_INPUT_tble_multi').hide();
$('#STDLY_INPUT_btn_staffsbutton').hide();
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
$('input[name="STDLY_INPUT_radio_slramt"]').prop('checked', false);
$('input[name="STDLY_INPUT_radio_cpfamt"]').prop('checked', false);
$('input[name="STDLY_INPUT_radio_levyamt"]').prop('checked', false);
$('#STDLY_INPUT_lbl_currentsalary').hide();
}
//TYPE OF EXPENSE AT SALARY ENTRY OPTION....................
if(STDLY_INPUT_listvalue==40)
{
if((STDLY_SEARCH_checktable.length==0)||(STDLY_SEARCH_empdtltable.length==0))
{$(".preloader").hide(); 
if((STDLY_SEARCH_checktable.length==0)&&(STDLY_SEARCH_empdtltable.length==0))
{
$('#STDLY_INPUT_lbl_erromsg').text(STDLY_SEARCH_emcmsg[1]).show();
$('#STDLY_INPUT_lbl_edtlerromsg').text(STDLY_SEARCH_emcmsg[2]).show();
}
if((STDLY_SEARCH_checktable.length==0)&&(STDLY_SEARCH_empdtltable.length!=0))
{
$('#STDLY_INPUT_lbl_erromsg').text(STDLY_SEARCH_emcmsg[1]).show();
$('#STDLY_INPUT_lbl_edtlerromsg').text(STDLY_SEARCH_emcmsg[2]).hide();
}
if((STDLY_SEARCH_checktable.length!=0)&&(STDLY_SEARCH_empdtltable.length==0))
{
$('#STDLY_INPUT_lbl_erromsg').text(STDLY_SEARCH_emcmsg[1]).hide();
$('#STDLY_INPUT_lbl_edtlerromsg').text(STDLY_SEARCH_emcmsg[2]).show();
}
}
else
{
var STDLY_INPUT_arr_employeename=[];
for (var i = 0; i < STDLY_SEARCH_checktable.length; i++) {
STDLY_INPUT_arr_employeename[i]=STDLY_SEARCH_checktable[i].STDLY_INPUT_employeename;
}
var STDLY_INPUT_unique_employee=STDLY_INPUT_unique(STDLY_INPUT_arr_employeename);
var options =' <option>SELECT</option>';
for (var i = 0; i < STDLY_INPUT_unique_employee.length; i++) {
options += '<option value="' + STDLY_INPUT_unique_employee[i] + '">' + STDLY_INPUT_unique_employee[i] + '</option>';
}
$('#STDLY_INPUT_lb_namelist').html(options);
$('#STDLY_INPUT_lb_namelist').show();
$('#STDLY_INPUT_lbl_name').show();
$('#STDLY_INPUT_lbl_emp').show();
$('#STDLY_INPUT_lbl_emp').val('');
$('#STDLY_INPUT_lbl_cpf').show();
$('#STDLY_INPUT_tb_cpfno').show();
$('#STDLY_INPUT_tb_cpfno').val('');
$('#STDLY_INPUT_lbl_paid').show();
$('#STDLY_INPUT_db_paiddate').datepicker("option","maxDate",new Date()); 
$('#STDLY_INPUT_db_paiddate').val('');
$('#STDLY_INPUT_db_paiddate').show();
$('#STDLY_INPUT_lbl_from').show();
$('#STDLY_INPUT_db_fromdate').val('');
$('#STDLY_INPUT_db_fromdate').show();
$('#STDLY_INPUT_lbl_to').show();
$('#STDLY_INPUT_db_todate').val('');
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
$('#STDLY_INPUT_db_todate').show();
$('#STDLY_INPUT_lbl_currentsalary').show();
$('#STDLY_INPUT_radio_currentslr').show();
$('#STDLY_INPUT_radio_newslr').show();
$('#STDLY_INPUT_radio_currentcpfamt').show();
$('#STDLY_INPUT_radio_newcpfamt').show();
$('#STDLY_INPUT_radio_currentlevyamt').show();
$('#STDLY_INPUT_radio_newlevyamt').show();
$('#STDLY_INPUT_radio_currentlevyamt').removeAttr("disabled");
$('#STDLY_INPUT_radio_currentslr').removeAttr("disabled");
$('#STDLY_INPUT_radio_newslr').removeAttr("disabled");
$('#STDLY_INPUT_radio_currentcpfamt').removeAttr("disabled");
$('#STDLY_INPUT_radio_newcpfamt').removeAttr("disabled");
$('#STDLY_INPUT_radio_newlevyamt').removeAttr("disabled");
$('#STDLY_INPUT_lbl_salarycomments').show();
$('#STDLY_INPUT_ta_salarycommentsbox').show();
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
$('#STDLY_INPUT_btn_sbutton').show();
$('#STDLY_INPUT_btn_rbutton').show();
$('#STDLY_INPUT_lbl_cursal').show();
$('#STDLY_INPUT_lbl_newsal').show();
$('#STDLY_INPUT_lbl_cpamt').show();
$('#STDLY_INPUT_lbl_newcamt').show();
$('#STDLY_INPUT_lbl_curlamt').show();
$('#STDLY_INPUT_lbl_newlamt').show();
$('input[name="STDLY_INPUT_radio_slramt"]').prop('checked', false);
$('input[name="STDLY_INPUT_radio_cpfamt"]').prop('checked', false);
$('input[name="STDLY_INPUT_radio_levyamt"]').prop('checked', false);
}
$('#STDLY_INPUT_lb_category1').val('');
$('#STDLY_INPUT_db_invdate1').val('');
$('#STDLY_INPUT_lb_incamtrp1').val('');
$('#STDLY_INPUT_ta_invitem1').val('');
$('#STDLY_INPUT_tb_invfrom1').val('');
$('#STDLY_INPUT_tb_comments1').val('');
$('#STDLY_INPUT_tb_hidesal1').val('');
$('#STDLY_INPUT_tb_hidecpf1').val('');
$('#STDLY_INPUT_db_selectdate').val('');
$('#STDLY_INPUT_tb_amount').val('');
$('#STDLY_INPUT_ta_comment').val('');
$('#STDLY_INPUT_tb_hidesal').hide();
$('#STDLY_INPUT_tb_hidesal1').hide();
$('#STDLY_INPUT_tb_hidecpf').hide();
$('#STDLY_INPUT_tb_hidecpf1').hide();
$('#STDLY_INPUT_tb_hidelevy').hide();
$('#STDLY_INPUT_tb_hidelevy1').hide();
$('#STDLY_INPUT_lbl_date').hide();
$('#STDLY_INPUT_db_selectdate').hide();
$('#STDLY_INPUT_lbl_amount').hide();
$('#STDLY_INPUT_tb_amount').hide();
$('#STDLY_INPUT_lbl_comments').hide();
$('#STDLY_INPUT_ta_comment').hide();
$('#STDLY_INPUT_lbl_expense').hide();
$('#STDLY_INPUT_lbl_invdate').hide();
$('#STDLY_INPUT_lbl_invamt').hide();
$('#STDLY_INPUT_lbl_invitm').hide();
$('#STDLY_INPUT_lbl_invfrom').hide();
$('#STDLY_INPUT_lbl_invcmt').hide();
$('#STDLY_INPUT_lbl_add').hide();
$('#STDLY_INPUT_lbl_del').hide();
$('#STDLY_INPUT_lb_category').hide();
$('#STDLY_INPUT_lb_invdate').hide();
$('#STDLY_INPUT_lb_incamtrp').hide();
$('#STDLY_INPUT_ta_invitem').hide();
$('#STDLY_INPUT_tb_invfrom').hide();
$('#STDLY_INPUT_btn_addbtn').hide();
$('#STDLY_INPUT_btn_staffsbutton').hide();
$('#STDLY_INPUT_tble_multi').hide();
$('#STDLY_INPUT_btn_delbtn').hide();
}
//TYPE OF EXPENSE AT STAFF OPTION....................
if(STDLY_INPUT_listvalue==41)
{
$('#STDLY_INPUT_lbl_currentsalary').hide();
$('#STDLY_INPUT_db_selectdate').val('');
$('#STDLY_INPUT_tb_amount').val('');
$('#STDLY_INPUT_ta_comment').val('');
$('#STDLY_INPUT_btn_sbutton').hide();
$('#STDLY_INPUT_lbl_cursal').hide();
$('#STDLY_INPUT_lbl_newsal').hide();
$('#STDLY_INPUT_lbl_cpamt').hide();
$('#STDLY_INPUT_lbl_newcamt').hide();
$('#STDLY_INPUT_lbl_curlamt').hide();
$('#STDLY_INPUT_lbl_newlamt').hide();
$('#STDLY_INPUT_lbl_emp').hide();
$('#STDLY_INPUT_lbl_date').hide();
$('#STDLY_INPUT_db_selectdate').hide();
$('#STDLY_INPUT_lbl_amount').hide();
$('#STDLY_INPUT_tb_amount').hide();
$('#STDLY_INPUT_lbl_comments').hide();
$('#STDLY_INPUT_ta_comment').hide();
$('#STDLY_INPUT_lbl_name').hide();
$('#STDLY_INPUT_lb_namelist').hide();
$('#STDLY_INPUT_lbl_cpf').hide();
$('#STDLY_INPUT_tb_cpfno').hide();
$('#STDLY_INPUT_lbl_paid').hide();
$('#STDLY_INPUT_db_paiddate').hide();
$('#STDLY_INPUT_lbl_from').hide();
$('#STDLY_INPUT_db_fromdate').hide();
$('#STDLY_INPUT_lbl_to').hide();
$('#STDLY_INPUT_db_todate').hide();
$('#STDLY_INPUT_radio_currentslr').hide();
$('#STDLY_INPUT_radio_newslr').hide();
$('#STDLY_INPUT_radio_currentcpfamt').hide();
$('#STDLY_INPUT_radio_newcpfamt').hide();
$('#STDLY_INPUT_radio_currentlevyamt').hide();
$('#STDLY_INPUT_radio_newlevyamt').hide();
$('#STDLY_INPUT_lbl_salarycomments').hide();
$('#STDLY_INPUT_ta_salarycommentsbox').hide();
$('#STDLY_INPUT_btn_rbutton').hide();
$('#STDLY_INPUT_tb_hidesal').hide();
$('#STDLY_INPUT_tb_hidesal1').hide();
$('#STDLY_INPUT_tb_hidecpf').hide();
$('#STDLY_INPUT_tb_hidecpf1').hide();
$('#STDLY_INPUT_tb_hidelevy').hide();
$('#STDLY_INPUT_tb_hidelevy1').hide();
STDLY_INPUT_clear_staff();
STDLY_INPUT_categorytyperesult();
}
});
//<!-- DATE PICKER FOR THE AGENT COMMISION -->
$("#STDLY_INPUT_db_selectdate").datepicker({dateFormat:'dd-mm-yy',
changeYear: true,
changeMonth: true});
//<!-- DATE PICKER FOR THE SALARY ENTRY -->
$("#STDLY_INPUT_db_invdate1").datepicker({dateFormat:'dd-mm-yy',
changeYear: true,
changeMonth: true});
//CHANGE THE EMPLOYEE NAME.........................
function STDLY_INPUT_func_employeename(){
$('#STDLY_INPUT_tb_hidesal').hide();
$('#STDLY_INPUT_tb_hidesal1').hide();
$('#STDLY_INPUT_tb_hidecpf').hide();
$('#STDLY_INPUT_tb_hidecpf1').hide();
$('#STDLY_INPUT_tb_hidelevy').hide();
$('#STDLY_INPUT_tb_hidelevy1').hide();
$('#STDLY_INPUT_db_todate').val('');
$('#STDLY_INPUT_db_fromdate').val('');
$('#STDLY_INPUT_db_paiddate').val('');
$('#STDLY_INPUT_ta_salarycommentsbox').val('');
$('input[name="STDLY_INPUT_radio_slramt"]').prop('checked', false);
$('input[name="STDLY_INPUT_radio_cpfamt"]').prop('checked', false);
$('input[name="STDLY_INPUT_radio_levyamt"]').prop('checked', false);
$('#STDLY_INPUT_radio_currentlevyamt').removeAttr("disabled");
$('#STDLY_INPUT_radio_currentslr').removeAttr("disabled");
$('#STDLY_INPUT_radio_newslr').removeAttr("disabled");
$('#STDLY_INPUT_radio_currentcpfamt').removeAttr("disabled");
$('#STDLY_INPUT_radio_newcpfamt').removeAttr("disabled");
$('#STDLY_INPUT_radio_newlevyamt').removeAttr("disabled");
$('#STDLY_INPUT_btn_sbutton').show();
$('#STDLY_INPUT_btn_rbutton').show();
}
/*----------------------------------------CHANGE FUNCTION FOR SALARY ENTRY---------------------------*/
$('#STDLY_INPUT_lb_namelist').change(function(){ 
$('#STDLY_INPUT_hidden_edssid').val('');
STDLY_INPUT_func_employeename();
var STDLY_INPUT_listvalue=$('#STDLY_INPUT_lb_namelist').find('option:selected').text();
if(STDLY_INPUT_listvalue=="SELECT")
{
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
$('#STDLY_INPUT_tb_cpfno').val('');
$('#STDLY_INPUT_tble_multipleemployee').empty();
}
else{
STDLY_SEARCH_arr_employeeRadio=[];
$('#STDLY_INPUT_tble_multipleemployee').empty();
for(var k=0;k<STDLY_SEARCH_checktable.length;k++)
{ 
if(STDLY_SEARCH_checktable[k].STDLY_INPUT_employeename==STDLY_INPUT_listvalue)
{
STDLY_SEARCH_arr_employeeRadio.push(STDLY_SEARCH_checktable[k])
}
}
if(STDLY_SEARCH_arr_employeeRadio.length!=1)
{
STDLY_INPUT_func_employeename();
$('#STDLY_INPUT_tb_cpfno').val('');
for (var i=0;i<STDLY_SEARCH_arr_employeeRadio.length;i++) 
{
var STDLY_SEARCH_val_emplyidname=STDLY_SEARCH_arr_employeeRadio[i].STDLY_INPUT_employeename+'-'+STDLY_SEARCH_arr_employeeRadio[i].STDLY_INPUT_empid;
var STDLY_SEARCH_tr_radio ='<tr><td><input type="radio" value='+STDLY_SEARCH_arr_employeeRadio[i].STDLY_INPUT_employeeid+' id='+STDLY_SEARCH_val_emplyidname+' name="STDLY_INPUT_radio_employee" class="STDLY_INPUT_class_sameemployee" />' + STDLY_SEARCH_val_emplyidname + '</td></tr>';
$('#STDLY_INPUT_tble_multipleemployee').append(STDLY_SEARCH_tr_radio);
$('#STDLY_INPUT_tble_multipleemployee').show();
}
}
else
{ 
$('#STDLY_INPUT_tble_multipleemployee').empty();
STDLY_INPUT_currentsal=STDLY_SEARCH_arr_employeeRadio[0].STDLY_INPUT_salamt;
STDLY_INPUT_currentcpf=STDLY_SEARCH_arr_employeeRadio[0].STDLY_INPUT_cpfamt;
STDLY_INPUT_currentlevy=STDLY_SEARCH_arr_employeeRadio[0].STDLY_INPUT_levyamt;
$('#STDLY_INPUT_hidden_edssid').val(STDLY_SEARCH_arr_employeeRadio[0].STDLY_INPUT_employeeid)
var STDLY_INPUT_arr_loadamt=[];
STDLY_INPUT_arr_loadamt.push(STDLY_SEARCH_arr_employeeRadio[0].STDLY_INPUT_cpfno)
STDLY_INPUT_arr_loadamt.push(STDLY_SEARCH_arr_employeeRadio[0].STDLY_INPUT_levyamt)
STDLY_INPUT_loadamt(STDLY_INPUT_arr_loadamt);
}}});
/*-------------------------------------CLICK FUNCTION FOR SAME EMPLOYEE NAME-----------------------------------*/
$(document).on('click','.STDLY_INPUT_class_sameemployee',function(){
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
STDLY_INPUT_func_employeename();
for (var i=0;i<STDLY_SEARCH_arr_employeeRadio.length;i++) {
if(STDLY_SEARCH_arr_employeeRadio[i].STDLY_INPUT_employeeid==$(this).val()){
STDLY_INPUT_currentsal=STDLY_SEARCH_arr_employeeRadio[i].STDLY_INPUT_salamt;
STDLY_INPUT_currentcpf=STDLY_SEARCH_arr_employeeRadio[i].STDLY_INPUT_cpfamt;
STDLY_INPUT_currentlevy=STDLY_SEARCH_arr_employeeRadio[i].STDLY_INPUT_levyamt;
var STDLY_INPUT_arr_loadamt=[];
STDLY_INPUT_arr_loadamt.push(STDLY_SEARCH_arr_employeeRadio[i].STDLY_INPUT_cpfno)
STDLY_INPUT_arr_loadamt.push(STDLY_SEARCH_arr_employeeRadio[i].STDLY_INPUT_levyamt)
STDLY_INPUT_loadamt(STDLY_INPUT_arr_loadamt);
}
}});
//<!-- DATE PICKER FOR THE SALARY ENTRY -->
$("#STDLY_INPUT_db_paiddate").datepicker({
dateFormat:"dd-mm-yy", 
changeYear: true,
changeMonth: true,
onSelect: function(date){ 
var STDLY_INPUT_datep = $('#STDLY_INPUT_db_paiddate').datepicker('getDate'); 
var date = new Date( Date.parse( STDLY_INPUT_datep ) ); 
date.setDate( date.getDate() - 1 ); 
var newDate = date.toDateString(); 
newDate = new Date( Date.parse( newDate ) ); 
$('#STDLY_INPUT_db_fromdate').datepicker("option","maxDate",newDate); 
$('#STDLY_INPUT_db_todate').datepicker("option","maxDate",newDate); 
if( $('#STDLY_INPUT_radio_currentslr').is(":checked")==true)
{
var STDLY_INPUT_radio_radiovalue="data";
}
else if(( $('#STDLY_INPUT_radio_newslr').is(":checked")==true)&&($("#STDLY_INPUT_tb_hidesal1").val()!=""))
{
var STDLY_INPUT_radio_radiovalue="data";
}
if(($("#STDLY_INPUT_lb_namelist").val()=="SELECT")||($("#STDLY_INPUT_db_paiddate").val()=="")||($("#STDLY_INPUT_db_fromdate").val()=="")||($("#STDLY_INPUT_db_todate").val()=="")||(STDLY_INPUT_radio_radiovalue !="data"))
{
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
}
else
{
$('#STDLY_INPUT_btn_sbutton').removeAttr("disabled");
}
}
}); 
//DATE PICKER FUNCTION FOR  FOR DATEBOX IN SALARY ENTRY...............
$("#STDLY_INPUT_db_fromdate").datepicker({
dateFormat: "dd-mm-yy", 
changeYear: true,
changeMonth: true,
onSelect: function(date){ 
var STDLY_INPUT_fromdate = $('#STDLY_INPUT_db_fromdate').datepicker('getDate'); 
var date = new Date( Date.parse( STDLY_INPUT_fromdate ) ); 
date.setDate( date.getDate()  ); //+ 1
var newDate = date.toDateString(); 
newDate = new Date( Date.parse( newDate ) ); 
$('#STDLY_INPUT_db_todate').datepicker("option","minDate",newDate); 
var paiddate = $('#STDLY_INPUT_db_paiddate').datepicker('getDate'); 
var date = new Date( Date.parse( paiddate ) ); 
date.setDate( date.getDate() - 1 ); 
var paidnewDate = date.toDateString(); 
paidnewDate = new Date( Date.parse( paidnewDate ) ); 
$('#STDLY_INPUT_db_todate').datepicker("option","maxDate",paidnewDate); 
if( $('#STDLY_INPUT_radio_currentslr').is(":checked")==true)
{
var STDLY_INPUT_radio_radiovalue="data";
}
else if(( $('#STDLY_INPUT_radio_newslr').is(":checked")==true)&&($("#STDLY_INPUT_tb_hidesal1").val()!=""))
{
var STDLY_INPUT_radio_radiovalue="data";
}
if(($("#STDLY_INPUT_lb_namelist").val()=="SELECT")||($("#STDLY_INPUT_db_paiddate").val()=="")||($("#STDLY_INPUT_db_fromdate").val()=="")||($("#STDLY_INPUT_db_todate").val()=="")||(STDLY_INPUT_radio_radiovalue !="data"))
{
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
}
else
{
$('#STDLY_INPUT_btn_sbutton').removeAttr("disabled");
}
}
}); 
//DATE PICKER FOR TO DATE IN THE  SALARY ENTRY.....................
$("#STDLY_INPUT_db_todate").datepicker({
dateFormat:"dd-mm-yy",
changeYear: true,
changeMonth: true,
onSelect: function(date){ 
var STDLY_INPUT_fromdate = $('#STDLY_INPUT_db_fromdate').datepicker('getDate'); 
var date = new Date( Date.parse( STDLY_INPUT_fromdate ) ); 
date.setDate( date.getDate()  ); //+ 1
var newDate = date.toDateString(); 
newDate = new Date( Date.parse( newDate ) ); 
$('#STDLY_INPUT_db_todate').datepicker("option","minDate",newDate); 
var paiddate = $('#STDLY_INPUT_db_paiddate').datepicker('getDate'); 
var date = new Date( Date.parse( paiddate ) ); 
date.setDate( date.getDate() - 1 ); 
var paidnewDate = date.toDateString(); 
paidnewDate = new Date( Date.parse( paidnewDate ) ); 
$('#STDLY_INPUT_db_todate').datepicker("option","maxDate",paidnewDate); 
if( $('#STDLY_INPUT_radio_currentslr').is(":checked")==true)
{
var STDLY_INPUT_radio_radiovalue="data";
}
else if(( $('#STDLY_INPUT_radio_newslr').is(":checked")==true)&&($("#STDLY_INPUT_tb_hidesal1").val()!=""))
{
var STDLY_INPUT_radio_radiovalue="data";
}
if(($("#STDLY_INPUT_lb_namelist").val()=="SELECT")||($("#STDLY_INPUT_db_paiddate").val()=="")||($("#STDLY_INPUT_db_fromdate").val()=="")||($("#STDLY_INPUT_db_todate").val()=="")||(STDLY_INPUT_radio_radiovalue !="data"))
{
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
}
else
{
$('#STDLY_INPUT_btn_sbutton').removeAttr("disabled");
}
}
}); 
//CHANGE THE PAID DATE  BOX ....................
$("#STDLY_INPUT_db_paiddate").change(function(){
var STDLY_INPUT_datep = $('#STDLY_INPUT_db_paiddate').datepicker('getDate'); 
var date = new Date( Date.parse( STDLY_INPUT_datep ) ); 
date.setDate( date.getDate() - 1 ); 
var newDate = date.toDateString(); 
newDate = new Date( Date.parse( newDate ) ); 
$('#STDLY_INPUT_db_fromdate').datepicker("option","maxDate",newDate); 
$('#STDLY_INPUT_db_todate').datepicker("option","maxDate",newDate); 
if($("#STDLY_INPUT_db_paiddate").val()!=''&&$("#STDLY_INPUT_db_todate").val()!=''&&("#STDLY_INPUT_db_fromdate").val()!='')
{
$('#STDLY_INPUT_btn_sbutton').removeAttr('disabled');
}
else
{
$('#STDLY_INPUT_btn_sbutton').attr('disabled','disabled');
}
if( $('#STDLY_INPUT_radio_currentslr').is(":checked")==true)
{
var STDLY_INPUT_radio_radiovalue="data";
}
else if(( $('#STDLY_INPUT_radio_newslr').is(":checked")==true)&&($("#STDLY_INPUT_tb_hidesal1").val()!=""))
{
var STDLY_INPUT_radio_radiovalue="data";
}
if(($("#STDLY_INPUT_lb_namelist").val()=="SELECT")||($("#STDLY_INPUT_db_paiddate").val()=="")||($("#STDLY_INPUT_db_fromdate").val()=="")||($("#STDLY_INPUT_db_todate").val()=="")||(STDLY_INPUT_radio_radiovalue !="data"))
{
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
}
else
{
$('#STDLY_INPUT_btn_sbutton').removeAttr("disabled");
}
}); 
//DATEPICKER FOR USING DATE IN THE SALARY ENTRY...............
$(".datebox").datepicker({
dateFormat: "dd-mm-yy", 
changeYear: true,
changeMonth: true,
onSelect: function(date){ 
var STDLY_INPUT_fromdate = $('#STDLY_INPUT_db_fromdate').datepicker('getDate'); 
var date = new Date( Date.parse( STDLY_INPUT_fromdate ) ); 
date.setDate( date.getDate() + 1 ); 
var newDate = date.toDateString(); 
newDate = new Date( Date.parse( newDate ) ); 
$('#STDLY_INPUT_db_todate').datepicker("option","minDate",newDate); 
var paiddate = $('#STDLY_INPUT_db_paiddate').datepicker('getDate'); 
var date = new Date( Date.parse( paiddate ) ); 
date.setDate( date.getDate() - 1 ); 
var paidnewDate = date.toDateString(); 
paidnewDate = new Date( Date.parse( paidnewDate ) ); 
$('#STDLY_INPUT_db_todate').datepicker("option","maxDate",paidnewDate); 
}
}); 
//CHANGE THE FROM AND TO DATE BOX................
$("#STDLY_INPUT_db_fromdate").change(function(){
var STDLY_INPUT_fromdate = $('#STDLY_INPUT_db_fromdate').datepicker('getDate'); 
var date = new Date( Date.parse( STDLY_INPUT_fromdate ) ); 
date.setDate( date.getDate()); // + 1 
var newDate = date.toDateString(); 
newDate = new Date( Date.parse( newDate ) ); 
$('#STDLY_INPUT_db_todate').datepicker("option","minDate",newDate); 
var paiddate = $('#STDLY_INPUT_db_paiddate').datepicker('getDate'); 
var date = new Date( Date.parse( paiddate ) ); 
date.setDate( date.getDate() - 1 ); 
var paidnewDate = date.toDateString(); 
paidnewDate = new Date( Date.parse( paidnewDate ) ); 
$('#STDLY_INPUT_db_todate').datepicker("option","maxDate",paidnewDate); 
if( $('#STDLY_INPUT_radio_currentslr').is(":checked")==true)
{
var STDLY_INPUT_radio_radiovalue="data";
}
else if(( $('#STDLY_INPUT_radio_newslr').is(":checked")==true)&&($("#STDLY_INPUT_tb_hidesal1").val()!=""))
{
var STDLY_INPUT_radio_radiovalue="data";
}
if(($("#STDLY_INPUT_lb_namelist").val()=="SELECT")||($("#STDLY_INPUT_db_paiddate").val()=="")||($("#STDLY_INPUT_db_fromdate").val()=="")||($("#STDLY_INPUT_db_todate").val()=="")||(STDLY_INPUT_radio_radiovalue !="data"))
{
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
}
else
{
$('#STDLY_INPUT_btn_sbutton').removeAttr("disabled");
}
}); 
//CHANGE TO DATE BOX..................
$('#STDLY_INPUT_db_todate').change(function(){
if( $('#STDLY_INPUT_radio_currentslr').is(":checked")==true)
{
var STDLY_INPUT_radio_radiovalue="data";
}
else if(( $('#STDLY_INPUT_radio_newslr').is(":checked")==true)&&($("#STDLY_INPUT_tb_hidesal1").val()!=""))
{
var STDLY_INPUT_radio_radiovalue="data";
}
if(($("#STDLY_INPUT_lb_namelist").val()=="SELECT")||($("#STDLY_INPUT_db_paiddate").val()=="")||($("#STDLY_INPUT_db_fromdate").val()=="")||($("#STDLY_INPUT_db_todate").val()=="")||(STDLY_INPUT_radio_radiovalue !="data"))
{
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
}
else
{
$('#STDLY_INPUT_btn_sbutton').removeAttr("disabled");
}
});
//<!-- RADIO BUTTON FUNCTIONS FOR GET SALARY AMOUNT IN THE SALARY ENTRY -->
$('#STDLY_INPUT_radio_currentslr').click(function(){
$('#STDLY_INPUT_tb_hidesal1').val('');
$('#STDLY_INPUT_tb_hidesal').val(STDLY_INPUT_currentsal);
$('#STDLY_INPUT_tb_gethiddenesal').val(STDLY_INPUT_currentsal);
$('#STDLY_INPUT_tb_hidesal').show();
var STDLY_INPUT_listvalue=$('#STDLY_INPUT_lb_namelist').val();
$('#STDLY_INPUT_tb_hidesal1').hide();
});
//SHOW THE TEXTBOX FOR CURRENT SALARY ENTRY.............
$('#STDLY_INPUT_radio_newslr').click(function(){
$('#STDLY_INPUT_tb_hidesal').hide();
$('#STDLY_INPUT_tb_hidesal1').show();
$('#STDLY_INPUT_tb_hidesal1').val('');
});
//<!-- RADIO BUTTON FUNCTIONS FOR GET CPF AMOUNT IN THE SALARY ENTRY -->
$('#STDLY_INPUT_radio_currentcpfamt').click(function(){
$('#STDLY_INPUT_tb_hidecpf1').val('');
$('#STDLY_INPUT_tb_hidecpf').val(STDLY_INPUT_currentcpf);
$('#STDLY_INPUT_tb_gethiddenecpf').val(STDLY_INPUT_currentcpf);
$('#STDLY_INPUT_tb_hidecpf').show();
var STDLY_INPUT_listvalue=$('#STDLY_INPUT_lb_namelist').val();
$('#STDLY_INPUT_tb_hidecpf1').hide();
});
//SHOW THE TEXTBOX FOR CPF AMOUNT ENTRY.............
$('#STDLY_INPUT_radio_newcpfamt').click(function(){
$('#STDLY_INPUT_tb_hidecpf').hide();
$('#STDLY_INPUT_tb_hidecpf1').show();
$('#STDLY_INPUT_tb_hidecpf1').val('');
});
//<!-- RADIO BUTTON FUNCTIONS FOR GET LEVY AMOUNT IN THE SALARY ENTRY -->
$('#STDLY_INPUT_radio_currentlevyamt').click(function(){
$('#STDLY_INPUT_tb_hidelevy1').val('');
$('#STDLY_INPUT_tb_hidelevy').val(STDLY_INPUT_currentlevy);
$('#STDLY_INPUT_tb_gethiddenelevy').val(STDLY_INPUT_currentlevy);
$('#STDLY_INPUT_tb_hidelevy').show();
var STDLY_INPUT_listvalue=$('#STDLY_INPUT_lb_namelist').val();
$('#STDLY_INPUT_tb_hidelevy1').hide();
});
//SHOW THE TEXTBOX FOR LEVY AMOUNT ENTRY.............
$('#STDLY_INPUT_radio_newlevyamt').click(function(){
$('#STDLY_INPUT_tb_hidelevy').hide();
$('#STDLY_INPUT_tb_hidelevy1').show();
$('#STDLY_INPUT_tb_hidelevy1').val('');
});
//<!-- MULTI ROW CREATION IN THE STAFF FOR INPUT PROCESS -->
var incid=1;
$(document).on('click','.addbttn',function() {
$('#STDLY_INPUT_btn_staffsbutton').attr("disabled", "disabled");
$('#STDLY_INPUT_btn_delbtn1').removeAttr("disabled");
var STDLY_INPUT_table = document.getElementById('STDLY_INPUT_tble_multi');
var STDLY_INPUT_rowCount = STDLY_INPUT_table.rows.length;
incid =  STDLY_INPUT_rowCount;
$('#STDLY_INPUT_hidetablerowid').val(incid);
var STDLY_INPUT_deladdrem =incid-1;
var STDLY_INPUT_deladdid=$('#STDLY_INPUT_hideaddid').val();
var STDLY_INPUT_delremoid=$('#STDLY_INPUT_hideremoveid').val();
$(STDLY_INPUT_deladdid).hide();
$(STDLY_INPUT_delremoid).hide();
$('#STDLY_INPUT_btn_addbtn1').hide();
$('#STDLY_INPUT_btn_delbtn1').hide();
$('#STDLY_INPUT_btn_addbtn'+STDLY_INPUT_deladdrem).hide();
$('#STDLY_INPUT_btn_delbtn'+STDLY_INPUT_deladdrem).hide();
var newRow = STDLY_INPUT_table.insertRow(STDLY_INPUT_rowCount);
var fCell = newRow.insertCell(0);
fCell.innerHTML ="<td> <select  class='submultivalid' name='STDLY_INPUT_lb_category' id='"+"STDLY_INPUT_lb_category"+incid+"' ><option >SELECT</option></select> </td> "
fCell = newRow.insertCell(1);
fCell.innerHTML ="<td><input  class='datepickinc submultivalid datemandtry' type='text' name ='STDLY_INPUT_db_invdate' id='"+"STDLY_INPUT_db_invdate"+incid+"' style='width:80px;' /> </td>"
$(".datepickinc").datepicker({dateFormat:'dd-mm-yy',
changeYear: true,
changeMonth: true});
$('#STDLY_INPUT_db_invdate'+incid).datepicker("option","maxDate",new Date()); 
fCell = newRow.insertCell(2);
fCell.innerHTML ="<td><input  class='amtonly submultivalid' type='text'  name ='STDLY_INPUT_lb_incamtrp' id='"+"STDLY_INPUT_lb_incamtrp"+incid+"' style='width:40px;'/></td>"
$(".amtonly").doValidation({rule:'numbersonly',prop:{realpart:3,imaginary:2}});
fCell = newRow.insertCell(3);
fCell.innerHTML ="<td><textarea class='submultivalid' name='STDLY_INPUT_ta_invitem' id='"+"STDLY_INPUT_ta_invitem"+incid+"'></textarea></td>"
fCell = newRow.insertCell(4);
fCell.innerHTML ="<td><input  class='autosize submultivalid' name ='STDLY_INPUT_tb_invfrom' id='"+"STDLY_INPUT_tb_invfrom"+incid+"' /></td>"
$(".autosize").doValidation({rule:'general',prop:{uppercase:true,autosize:true}});
fCell = newRow.insertCell(5);
fCell.innerHTML = "<td><textarea   type='text' name ='STDLY_INPUT_tb_comments' id='"+"STDLY_INPUT_tb_comments"+incid+"'></textarea></td>"
fCell = newRow.insertCell(6);
fCell.innerHTML ="<td><input type='button' value='+' class='addbttn' alt='Add Row' height='30' width='30' name ='STDLY_INPUT_btn_addbtn' id='"+"STDLY_INPUT_btn_addbtn"+incid+"'/></td>";
fCell = newRow.insertCell(7);
fCell.innerHTML ="<td><input  type='button' value='-' class='deletebttn' alt='delete Row' height='30' width='30' name ='STDLY_INPUT_btn_delbtn' id='"+"STDLY_INPUT_btn_delbtn"+incid+"' /></td>";
$('#STDLY_INPUT_btn_addbtn'+incid).attr("disabled", "disabled");
STDLY_INPUT_loadcategorymultirow();
});
//<!-- DELETE THE REQUIRED ROW IN THE MULTIROW CREATION -->
$(document).on('click','.deletebttn',function() {
var table = document.getElementById('STDLY_INPUT_tble_multi');
if(table.rows.length>2) 
$(this).closest("tr").remove();
var STDLY_INPUT_table = document.getElementById('STDLY_INPUT_tble_multi');
var STDLY_INPUT_table_rowlength=STDLY_INPUT_table.rows.length;
var STDLY_INPUT_newid=STDLY_INPUT_table_rowlength-1;
$('#STDLY_INPUT_btn_addbtn'+STDLY_INPUT_newid).show();
$('#STDLY_INPUT_btn_delbtn'+STDLY_INPUT_newid).show();
var count=0;
for(var i=1;i<STDLY_INPUT_table_rowlength;i++)
{
var unit=$('#STDLY_INPUT_lb_category'+i).val()
var invoicedate=$('#STDLY_INPUT_db_invdate'+i).val()
var fromdate=$('#STDLY_INPUT_lb_incamtrp'+i).val()
var todate=$('#STDLY_INPUT_ta_invitem'+i).val()
var payment=$('#STDLY_INPUT_tb_invfrom'+i).val()
if((unit!=undefined)&&(unit!="SELECT")&&(unit!='')&&(payment!='')&&(fromdate!="")&&(todate!="")&&(fromdate!=undefined)&&(todate!=undefined)&&(invoicedate!=''))
{
count=count+1;
}
}
if(count==STDLY_INPUT_table_rowlength-1)
{
$('#STDLY_INPUT_btn_staffsbutton').removeAttr("disabled");
$('#STDLY_INPUT_btn_addbtn'+(STDLY_INPUT_table_rowlength-1)).removeAttr("disabled");
}
else
{
$('#STDLY_INPUT_btn_staffsbutton').attr("disabled", "disabled");
$('#STDLY_INPUT_btn_addbtn'+(STDLY_INPUT_table_rowlength-1)).attr("disabled", "disabled");
}
if(STDLY_INPUT_table_rowlength==2)
{
$('#STDLY_INPUT_btn_delbtn'+(STDLY_INPUT_table_rowlength-1)).attr("disabled", "disabled");
$('#STDLY_INPUT_btn_delbtn').attr("disabled", "disabled");
}
});
//<!-- SUBMIT BUTTON VALIDATION FOR THE AGENT COMISSION AND SALARY ENTRY  -->
$(".submitvalamt").blur(function(){
var STDLY_INPUT_typrval=$("#STDLY_INPUT_lb_typelist").val()
if(STDLY_INPUT_typrval==39)
{
if(($("#STDLY_INPUT_db_selectdate").val()=="")||($("#STDLY_INPUT_tb_amount").val()==""))
{
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
}
else
{
$('#STDLY_INPUT_btn_sbutton').removeAttr("disabled");
}
}
});
//SUBMIT VALIDATION
$(document).on('blur','.submitval',function() {
var STDLY_INPUT_typrval=$("#STDLY_INPUT_lb_typelist").val()
if(STDLY_INPUT_typrval==39)
{
if(($("#STDLY_INPUT_db_selectdate").val()=="")||($("#STDLY_INPUT_tb_amount").val()==""))
{
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
}
else
{
$('#STDLY_INPUT_btn_sbutton').removeAttr("disabled");
}
}
if(STDLY_INPUT_typrval==40)
{
var flag=0;
if( $('#STDLY_INPUT_radio_currentslr').is(":checked")==true)
{
var STDLY_INPUT_radio_radiovalue="data";
}
else if(( $('#STDLY_INPUT_radio_newslr').is(":checked")==true)&&($("#STDLY_INPUT_tb_hidesal1").val()!=""))
{
var STDLY_INPUT_radio_radiovalue="data";
}
if(($("#STDLY_INPUT_lb_namelist").val()=="SELECT")||($("#STDLY_INPUT_db_paiddate").val()=="")||($("#STDLY_INPUT_db_fromdate").val()=="")||($("#STDLY_INPUT_db_todate").val()=="")||(STDLY_INPUT_radio_radiovalue !="data")||(( $('#STDLY_INPUT_radio_newcpfamt').is(":checked")==true)&&($("#STDLY_INPUT_tb_hidecpf1").val()==""))||(( $('#STDLY_INPUT_radio_newlevyamt').is(":checked")==true)&&($("#STDLY_INPUT_tb_hidelevy1").val()=="")))
{
flag=1;
}
if(flag=="1")
{
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
}
else
{
$('#STDLY_INPUT_btn_sbutton').removeAttr("disabled");
}
}
});
//RADIO TO SHOW SUBMIT BUTTON VALIDATION......................
$(".radiosubmitval").click(function(){
var flag=0;
if( $('#STDLY_INPUT_radio_currentslr').is(":checked")==true)
{
var STDLY_INPUT_radio_radiovalue="data";
}
else if(( $('#STDLY_INPUT_radio_newslr').is(":checked")==true)&&($("#STDLY_INPUT_tb_hidesal1").val()!=""))
{
var STDLY_INPUT_radio_radiovalue="data";
}
if(($("#STDLY_INPUT_lb_namelist").val()=="SELECT")||($("#STDLY_INPUT_db_paiddate").val()=="")||($("#STDLY_INPUT_db_fromdate").val()=="")||($("#STDLY_INPUT_db_todate").val()=="")||(STDLY_INPUT_radio_radiovalue !="data")||(( $('#STDLY_INPUT_radio_newcpfamt').is(":checked")==true)&&($("#STDLY_INPUT_tb_hidecpf1").val()==""))||(( $('#STDLY_INPUT_radio_newlevyamt').is(":checked")==true)&&($("#STDLY_INPUT_tb_hidelevy1").val()=="")))
{
flag=1;
}
if(flag=="1")
{
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
}
else
{
$('#STDLY_INPUT_btn_sbutton').removeAttr("disabled");
}
});
//CURRENT SALARY  SUBMIT VALIDATION..............
$(".radiotextboxsubmitval").change(function(){
var flag=0;
if( $('#STDLY_INPUT_radio_currentslr').is(":checked")==true)
{
var STDLY_INPUT_radio_radiovalue="data";
}
else if(( $('#STDLY_INPUT_radio_newslr').is(":checked")==true)&&($("#STDLY_INPUT_tb_hidesal1").val()!=""))
{
var STDLY_INPUT_radio_radiovalue="data";
}
if(($("#STDLY_INPUT_lb_namelist").val()=="SELECT")||(($('.STDLY_INPUT_radio_currentslr').attr('id')!=undefined)&&($('input:radio[name=STDLY_INPUT_radio_employee]:checked').val()==''))($("#STDLY_INPUT_db_paiddate").val()=="")||($("#STDLY_INPUT_db_fromdate").val()=="")||($("#STDLY_INPUT_db_todate").val()=="")||(STDLY_INPUT_radio_radiovalue !="data")||(( $('#STDLY_INPUT_radio_newcpfamt').is(":checked")==true)&&($("#STDLY_INPUT_tb_hidecpf1").val()==""))||(( $('#STDLY_INPUT_radio_newlevyamt').is(":checked")==true)&&($("#STDLY_INPUT_tb_hidelevy1").val()=="")))
{
flag=1;
}
if(flag=="1")
{
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
}
else
{
$('#STDLY_INPUT_btn_sbutton').removeAttr("disabled");
}
});
//<!-- SUBMIT BUTTON VALIDATION FOR THE STAFF SECTION  -->
$(document).on('blur','.submultivalid',function() {
var e=$(this).attr('id');
var STDLY_INPUT_table = document.getElementById('STDLY_INPUT_tble_multi');
var STDLY_INPUT_table_rowlength=STDLY_INPUT_table.rows.length;
var count=0;
for(var i=1;i<STDLY_INPUT_table_rowlength;i++)
{
var unit=$('#STDLY_INPUT_lb_category'+i).val()
var invoicedate=$('#STDLY_INPUT_db_invdate'+i).val()
var fromdate=$('#STDLY_INPUT_lb_incamtrp'+i).val()
var todate=$('#STDLY_INPUT_ta_invitem'+i).val()
var payment=$('#STDLY_INPUT_tb_invfrom'+i).val()
if((unit!=undefined)&&(unit!="SELECT")&&(unit!='')&&(payment!='')&&(fromdate!="")&&(todate!="")&&(fromdate!=undefined)&&(todate!=undefined)&&(invoicedate!=''))
{
count=count+1;
}
}
if(count==STDLY_INPUT_table_rowlength-1)
{
$('#STDLY_INPUT_btn_staffsbutton').removeAttr("disabled");
$('#STDLY_INPUT_btn_addbtn'+(STDLY_INPUT_table_rowlength-1)).removeAttr("disabled");
}
else
{
$('#STDLY_INPUT_btn_staffsbutton').attr("disabled", "disabled");
$('#STDLY_INPUT_btn_addbtn'+(STDLY_INPUT_table_rowlength-1)).attr("disabled", "disabled");
}
});
function STDLY_INPUT_clear_staff(){
$('#STDLY_INPUT_btn_sbutton').hide();
$('#STDLY_INPUT_btn_rbutton').hide();
$('#STDLY_INPUT_lb_category1').prop('selectedIndex',0)
$('#STDLY_INPUT_db_invdate1').val('');
$('#STDLY_INPUT_lb_incamtrp1').val('');
$('#STDLY_INPUT_ta_invitem1').val("");
$('#STDLY_INPUT_tb_invfrom1').val('');
$('#STDLY_INPUT_tb_comments1').val('');
$('#STDLY_INPUT_btn_addbtn1').attr("disabled", "disabled").show();
$('#STDLY_INPUT_btn_delbtn1').attr("disabled", "disabled").show();
$('#STDLY_INPUT_btn_staffsbutton').attr('disabled','disabled')
var elmtTable = document.getElementById('STDLY_INPUT_tble_multi');
var tableRows = elmtTable.getElementsByTagName('tr');
var rowCount = tableRows.length;
for(var x=0;x<rowCount;x++)
{
if((x==0)||(x==1))continue;
if(x==3)
{
STDLY_INPUT_clear_staff();
}
$('#STDLY_INPUT_lb_category'+x).remove();
$('#STDLY_INPUT_db_invdate'+x).remove();
$('#STDLY_INPUT_lb_incamtrp'+x).remove();
$('#STDLY_INPUT_ta_invitem'+x).remove();
$('#STDLY_INPUT_tb_invfrom'+x).remove();
$('#STDLY_INPUT_tb_comments'+x).remove();
$('#STDLY_INPUT_btn_addbtn'+x).remove();
$('#STDLY_INPUT_btn_delbtn'+x).remove();
document.getElementById('STDLY_INPUT_tble_multi').deleteRow(x);
}
$('#STDLY_INPUT_lb_category1').prop('selectedIndex',0)
$('#STDLY_INPUT_db_invdate1').val('');
$('#STDLY_INPUT_lb_incamtrp1').val('')
$('#STDLY_INPUT_ta_invitem1').val("")
$('#STDLY_INPUT_tb_invfrom1').val('');
$('#STDLY_INPUT_tb_comments1').val('');
$('#STDLY_INPUT_btn_addbtn1').attr("disabled", "disabled").show();
$('#STDLY_INPUT_btn_delbtn1').attr("disabled", "disabled").show();
$('#STDLY_INPUT_tble_multi').hide();
STDLY_INPUT_categorytyperesult();
}
//FOR RESET BUTTON ...............
$('.resetsubmit').click(function(){
var STDLY_INPUT_listvalue=$('#STDLY_INPUT_lb_typelist').val();
if(STDLY_INPUT_listvalue==39)
{
$('#STDLY_INPUT_db_selectdate').val('');
$('#STDLY_INPUT_tb_amount').val('');
$('#STDLY_INPUT_ta_comment').val('');
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
}
if(STDLY_INPUT_listvalue==40)
{
$('#STDLY_INPUT_tb_hidesal').val('');
$('#STDLY_INPUT_tb_hidesal1').val('');
$('#STDLY_INPUT_tb_hidecpf').val('');
$('#STDLY_INPUT_tb_hidecpf1').val('');
$('#STDLY_INPUT_tb_hidelevy').val('');
$('#STDLY_INPUT_tb_hidelevy1').val('');
$('#STDLY_INPUT_tb_hidesal').hide();
$('#STDLY_INPUT_tb_hidesal1').hide();
$('#STDLY_INPUT_tb_hidecpf').hide();
$('#STDLY_INPUT_tb_hidecpf1').hide();
$('#STDLY_INPUT_tb_hidelevy').hide();
$('#STDLY_INPUT_tb_hidelevy1').hide();
$("select#STDLY_INPUT_lb_namelist")[0].selectedIndex = 0;
$('#STDLY_INPUT_db_todate').val('');
$('#STDLY_INPUT_db_fromdate').val('');
$('#STDLY_INPUT_db_paiddate').val('');
$('#STDLY_INPUT_tb_cpfno').val('');
$('#STDLY_INPUT_btn_staffsbutton').hide();
$('#STDLY_INPUT_ta_salarycommentsbox').val('');
$('input[name="STDLY_INPUT_radio_slramt"]').prop('checked', false);
$('input[name="STDLY_INPUT_radio_cpfamt"]').prop('checked', false);
$('input[name="STDLY_INPUT_radio_levyamt"]').prop('checked', false);
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
$('#STDLY_INPUT_tble_multipleemployee').empty();
$('#STDLY_INPUT_db_fromdate') .datepicker( "option", "maxDate", new Date());
$('#STDLY_INPUT_db_todate') .datepicker( "option", "maxDate", new Date());
$('#STDLY_INPUT_db_todate') .datepicker( "option", "minDate",null );
}
if(STDLY_INPUT_listvalue==41)
{
$('#STDLY_INPUT_lb_category1').val('');
$('#STDLY_INPUT_db_invdate1').val('');
$('#STDLY_INPUT_lb_incamtrp1').val('');
$('#STDLY_INPUT_ta_invitem1').val('');
$('#STDLY_INPUT_tb_invfrom1').val('');
$('#STDLY_INPUT_tb_comments1').val('');
$('#STDLY_INPUT_tb_hidesal1').val('');
$('#STDLY_INPUT_tb_hidecpf1').val('');
$('#STDLY_INPUT_btn_addbtn1').attr("disabled", "disabled");
$('#STDLY_INPUT_btn_staffsbutton').attr("disabled", "disabled");
}
$('#STDLY_INPUT_ta_comment,#STDLY_INPUT_ta_salarycommentsbox,#STDLY_INPUT_tb_comments1,#STDLY_INPUT_ta_invitem1').height(20);
});
//SAVE  AND GET CONFORM MESSAGE FROM TABLE......................
$('#STDLY_INPUT_btn_staffsbutton').click(function(){
var  newPos= adjustPosition($(this).position(),100,280);
resetPreloader(newPos);
$(".preloader").show(); 
google.script.run.withFailureHandler(STDLY_INPUT_onFailure).withSuccessHandler(STDLY_INPUT_showconformmsg).STDLY_INPUT_savestaff(document.getElementById('STDLY_INPUT_form_staffdaily'))
});
//SAVE  AND GET CONFORM MESSAGE FROM TABLE FOR FLEX TABLE.....................
$('#STDLY_INPUT_btn_sbutton').click(function(){
var  newPos= adjustPosition($(this).position(),100,230);
resetPreloader(newPos);
$(".preloader").show(); 
google.script.run.withFailureHandler(STDLY_INPUT_onFailure).withSuccessHandler(STDLY_INPUT_showconformmsg).STDLY_INPUT_savedata(document.getElementById('STDLY_INPUT_form_staffdaily'))
});
//WHEN I CLICK THE SUBMIT BUTTON THIS  LL CALL............
//LOAD THE CATEGORY TYPE FOR INCREAMENT MULTIROW LISTBOX...............
function STDLY_INPUT_loadcategorymultirow()
{$(".preloader").hide(); 
var STDLY_INPUT_options ='';
for (var i = 0; i < STDLY_SEARCH_liststaffvaluesarray.length; i++) {
if( i>=0 && i<=4)
{
STDLY_INPUT_options += '<option value="' + STDLY_SEARCH_liststaffidvaluesarray[i] + '">' + STDLY_SEARCH_liststaffvaluesarray[i] + '</option>';
}
}
var STDLY_INPUT_val=$('#STDLY_INPUT_hidetablerowid').val();
$('#STDLY_INPUT_lb_category'+(STDLY_INPUT_val)).html(STDLY_INPUT_options);
STDLY_INPUT_Sortit('STDLY_INPUT_lb_category'+STDLY_INPUT_val)
}
function STDLY_INPUT_Sortit(lbid) {
var $r = $("#"+lbid+" "+"option");
$r.sort(function(a, b) {
if (a.text < b.text) return -1;
if (a.text == b.text) return 0;
return 1;
});
$($r).remove();
$("#"+lbid).append($($r));
$("#"+lbid+" "+"option").eq(0).before('<option value="SELECT">SELECT</option>')
$("select#"+lbid)[0].selectedIndex = 0;
}
//LOAD THE CATEGORY TYPE IN THE LISTBOX...................
function STDLY_INPUT_categorytyperesult()
{$(".preloader").hide();
//STDLY_INPUT_categorytypearray=STDLY_INPUT_categorytype;
var options =' ';
for (var i = 0; i < STDLY_SEARCH_liststaffvaluesarray.length; i++) {
if( i>=0 && i<=4)
{options += '<option value="' + STDLY_SEARCH_liststaffidvaluesarray[i] + '">' + STDLY_SEARCH_liststaffvaluesarray[i] + '</option>';
}}
$('#STDLY_INPUT_tble_multi').show();
$('#STDLY_INPUT_lb_category1').html(options);
STDLY_INPUT_Sortit('STDLY_INPUT_lb_category1')
$('#STDLY_INPUT_lb_category1').show();
$('#STDLY_INPUT_lbl_expense').show();
$('#STDLY_INPUT_btn_staffsbutton').show();
$('#STDLY_INPUT_tble_multi').show();
$('#STDLY_INPUT_lbl_expense').show();
$('#STDLY_INPUT_lbl_invdate').show();
$('#STDLY_INPUT_lbl_invamt').show();
$('#STDLY_INPUT_lbl_invitm').show();
$('#STDLY_INPUT_lbl_invfrom').show();
$('#STDLY_INPUT_lbl_invcmt').show();
$('#STDLY_INPUT_lbl_add').show();
$('#STDLY_INPUT_lbl_del').show();
$('#STDLY_INPUT_db_invdate1').datepicker("option","maxDate",new Date()); 
$('#STDLY_INPUT_db_invdate1').show();
$('#STDLY_INPUT_lb_incamtrp1').show();
$('#STDLY_INPUT_ta_invitem1').show();
$('#STDLY_INPUT_tb_invfrom1').show();
$('#STDLY_INPUT_tb_comments1').show();
$('#STDLY_INPUT_btn_addbtn1').show();
$('#STDLY_INPUT_btn_delbtn1').show();
$('#STDLY_INPUT_btn_addbtn1').attr("disabled", "disabled");
$('#STDLY_INPUT_btn_delbtn1').attr("disabled", "disabled");
$('#STDLY_INPUT_btn_staffsbutton').attr("disabled", "disabled");
$('input[name="STDLY_INPUT_radio_slramt"]').prop('checked', false);
$('input[name="STDLY_INPUT_radio_cpfamt"]').prop('checked', false);
$('input[name="STDLY_INPUT_radio_levyamt"]').prop('checked', false);
}
//SHOW THE CONFORMATION MESSAGE //
function STDLY_INPUT_showconformmsg(STDLY_INPUT_response)
{$(".preloader").hide(); 
$("textarea").height(20); 
if(STDLY_INPUT_response[0]==1){
if($('#STDLY_INPUT_lb_typelist').val()==40)
STDLY_SEARCH_checktable=STDLY_INPUT_response[1][1];
var STDLY_INPUT_savemsg=$('#STDLY_INPUT_lb_typelist').val()
var PDLY_INPUT_expensetype=$('#STDLY_INPUT_lb_typelist').find('option:selected').text();
var STDLY_INPUT_CONFSAVEMSG = STDLY_SEARCH_emcmsg[0].replace('[TYPE]', PDLY_INPUT_expensetype); 
$('#STDLY_INPUT_db_selectdate').val('');
$('#STDLY_INPUT_tb_amount').val('');
$('#STDLY_INPUT_ta_comment').val('');
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
$('#STDLY_INPUT_tb_hidesal').val('').hide();
$('#STDLY_INPUT_tb_hidesal1').val('').hide();
$('#STDLY_INPUT_tb_hidecpf').val('').hide();
$('#STDLY_INPUT_tb_hidecpf1').val('').hide();
$('#STDLY_INPUT_tb_hidelevy').val('').hide();
$('#STDLY_INPUT_tb_hidelevy1').val('').hide();
if($('#STDLY_INPUT_lb_typelist').val()!=41)
$("#STDLY_INPUT_lb_namelist")[0].selectedIndex = 0;
$('#STDLY_INPUT_db_todate').val('');
$('#STDLY_INPUT_db_fromdate').val('');
$('#STDLY_INPUT_db_paiddate').val('');
$('#STDLY_INPUT_tb_cpfno').val('');
$('#STDLY_INPUT_btn_staffsbutton').hide();
$('#STDLY_INPUT_ta_salarycommentsbox').val('');
$('input[name="STDLY_INPUT_radio_slramt"]').prop('checked', false);
$('input[name="STDLY_INPUT_radio_cpfamt"]').prop('checked', false);
$('input[name="STDLY_INPUT_radio_levyamt"]').prop('checked', false);
$('#STDLY_INPUT_db_fromdate') .datepicker( "option", "maxDate", new Date());
$('#STDLY_INPUT_db_todate') .datepicker( "option", "maxDate", new Date());
$('#STDLY_INPUT_db_todate') .datepicker( "option", "minDate",null );
if($('#STDLY_INPUT_lb_typelist').val()==41){
$(document).doValidation({rule:'messagebox',prop:{msgtitle:"STAFF EXPENSE DAILY ENTRY",msgcontent:STDLY_INPUT_CONFSAVEMSG,position:{top:150,left:500}}});
$('#STDLY_INPUT_tble_multi').empty();
$('<tr><td style="width:240"><label id="STDLY_INPUT_lbl_expense" >CATEGORY OF EXPENSE<em>*</em></label> </td><td style="width:150"><label  id="STDLY_INPUT_lbl_invdate" >INVOICE DATE<em>*</em></label></td><td style="width:125" ><label id="STDLY_INPUT_lbl_invamt" >INVOICE AMOUNT<em>*</em></label> </td><td style="width:150" ><label id="STDLY_INPUT_lbl_invitm" >INVOICE ITEMS<em>*</em></label> </td><td style="width:150" ><label id="STDLY_INPUT_lbl_invfrom" >INVOICE FROM<em>*</em></label> </td><td style="width:150"><label id="STDLY_INPUT_lbl_invcmt">COMMENTS</label></td></tr><tr><td> <select class="submultivalid"   name="STDLY_INPUT_lb_category" id="STDLY_INPUT_lb_category1"  ><option >SELECT</option></select> </td> <td><input class="submultivalid datemandtry"   type="text" name ="STDLY_INPUT_db_invdate" id="STDLY_INPUT_db_invdate1" style="width:80px;"  /> </td><td><input   type="text" name ="STDLY_INPUT_lb_incamtrp" id="STDLY_INPUT_lb_incamtrp1"  class="amtonly submultivalid" style="width:40px;"  /></td> <td><textarea class="submultivalid"  type="text" name="STDLY_INPUT_ta_invitem" id="STDLY_INPUT_ta_invitem1"   ></textarea></td><td><input class="submultivalid autosize"  type="text" name ="STDLY_INPUT_tb_invfrom" id="STDLY_INPUT_tb_invfrom1"  /></td><td><textarea   type="text" name ="STDLY_INPUT_tb_comments" id="STDLY_INPUT_tb_comments1"  ></textarea></td><td><input enabled type="button" disabled value="+" class="addbttn" alt="Add Row" height="30" width="30" name ="STDLY_INPUT_btn_addbtn" id="STDLY_INPUT_btn_addbtn1"  disabled/></td><td><input  type="button" value="-" class="deletebttn" alt="delete Row" height="30" width="30" name ="STDLY_INPUT_btn_delbtn" id="STDLY_INPUT_btn_delbtn1" disabled /></td></tr>').appendTo($('#STDLY_INPUT_tble_multi'))
$(".autosize").doValidation({rule:'general',prop:{autosize:true}});
$(".amtonly").doValidation({rule:'numbersonly',prop:{realpart:3,imaginary:2}});
$("#STDLY_INPUT_db_invdate1").datepicker({dateFormat:'dd-mm-yy',
changeYear: true,
changeMonth: true});
STDLY_INPUT_categorytyperesult();
}
else
$(document).doValidation({rule:'messagebox',prop:{msgtitle:"STAFF EXPENSE DAILY ENTRY",msgcontent:STDLY_INPUT_CONFSAVEMSG,position:{top:150,left:500}}});
//STDLY_INPUT_clear_staff();
$('#STDLY_INPUT_lb_category1').val('');
$('#STDLY_INPUT_db_invdate1').val('');
$('#STDLY_INPUT_lb_incamtrp1').val('');
$('#STDLY_INPUT_ta_invitem1').val('');
$('#STDLY_INPUT_tb_invfrom1').val('');
$('#STDLY_INPUT_tb_comments1').val('');
$('#STDLY_INPUT_tb_hidesal1').val('');
$('#STDLY_INPUT_tb_hidecpf1').val('');
$('#STDLY_INPUT_btn_addbtn1').attr("disabled", "disabled");
$('#STDLY_INPUT_tble_multipleemployee').empty();
}
else{
if($('#STDLY_INPUT_lb_typelist').val()==40&&STDLY_INPUT_response[0]!="")
{
$(document).doValidation({rule:'messagebox',prop:{msgtitle:"STAFF EXPENSE DAILY ENTRY",msgcontent:STDLY_INPUT_response[0],position:{top:150,left:500}}});
}
else if($('#STDLY_INPUT_lb_typelist').val()==41){
$(document).doValidation({rule:'messagebox',prop:{msgtitle:"STAFF EXPENSE DAILY ENTRY",msgcontent:STDLY_SEARCH_emcmsg[3]+STDLY_INPUT_response[0],position:{top:150,left:500}}});}
else{
$(document).doValidation({rule:'messagebox',prop:{msgtitle:"STAFF EXPENSE DAILY ENTRY",msgcontent:STDLY_SEARCH_emcmsg[3],position:{top:150,left:500}}});}
}}
//<!--LOAD THE AMOUNT FOR THE LEVY ,SALARY AND CPF   -->
function STDLY_INPUT_loadamt(cpfamt)
{ 
var STDLY_INPUT_getamtno=[]
STDLY_INPUT_getamtno=cpfamt
var STDLY_INPUT_no=STDLY_INPUT_getamtno[0];
var STDLY_INPUT_levy_amount=STDLY_INPUT_getamtno[1];
$('#STDLY_INPUT_tb_cpfno').val(STDLY_INPUT_no);
var STDLY_INPUT_empname=$("#STDLY_INPUT_lb_namelist").val()
if(STDLY_INPUT_empname=='SELECT')
{
$('#STDLY_INPUT_btn_sbutton').attr("disabled", "disabled");
}
else
{
if(STDLY_INPUT_no==null)
{
$('#STDLY_INPUT_tb_cpfno').text("");
$('#STDLY_INPUT_radio_currentcpfamt').attr("disabled", "disabled");
$('#STDLY_INPUT_radio_newcpfamt').attr("disabled", "disabled");
$('#STDLY_INPUT_lbl_cpamt').attr("disabled", "disabled");
$('#STDLY_INPUT_lbl_newcamt').show().attr("disabled", "disabled");
}
else
{
$('#STDLY_INPUT_radio_currentcpfamt').removeAttr("disabled");
$('#STDLY_INPUT_radio_newcpfamt').removeAttr("disabled");
$('#STDLY_INPUT_lbl_cpamt').removeAttr("disabled");
$('#STDLY_INPUT_lbl_newcamt').removeAttr("disabled");
}
if(STDLY_INPUT_levy_amount==null)
{
$('#STDLY_INPUT_radio_currentlevyamt').attr("disabled", "disabled");
}
else
{
$('#STDLY_INPUT_radio_currentlevyamt').removeAttr("disabled");
}}}
//FAILURE FUNCTION
function STDLY_INPUT_onFailure(errmessg)
{
$(".preloader").hide();
if(errmessg=="ScriptError: Failed to establish a database connection. Check connection string, username and password.")
{
errmessg="DB USERNAME/PWD WRONG, PLZ CHK UR CONFIG FILE FOR THE CREDENTIALS."
$('#STDLY_INPUT_form_staffdaily').replaceWith('<center><label class="dberrormsg">'+errmessg+'</label></center>');
}
else{
$(document).doValidation({rule:'messagebox',prop:{msgtitle:"STAFF EXPENSE DAILY ENTRY",msgcontent:errmessg,position:{top:150,left:500}}});
}}
});
</script>
<!--SCRIPT END-->
</head>
<!--HEAD END-->
<!--BODY START-->
<body bgcolor="#00FF00" >
<!--MASKPANEL DIV START-->
<div class="wrapper">
<div  class="preloader MaskPanel"><div class="preloader statusarea" ><div style="padding-top:90px; text-align:center"><img src="https://googledrive.com/host/0B5pkfK_IBDxjU1FrR3hVTXB4a28/Loading.gif"  /></div></div></div>
<div class="title" id="fhead" ><div style="padding-left:500px; text-align:left;"><p><h3>STAFF EXPENSE DAILY ENTRY</h3><p></div></div>
<!--FORM START-->
<form class="content" id="STDLY_INPUT_form_staffdaily" name="STDLY_INPUT_form_staffdaily"  >
<table id='STDLY_INPUT_tble_main'>
<tr>
<td style="width:200px"><label id='STDLY_INPUT_lbl_type' hidden> TYPE OF EXPENSE </label></td>
<td><select id='STDLY_INPUT_lb_typelist' name="STDLY_INPUT_lb_typelist" hidden>
<option>SELECT</option>
</select></td>
<!--CREATE ELEMENT FOR AGENT COMMISSION PART-->
</tr></table>
<table>
<tr>
<td style="width:200px"><label id='STDLY_INPUT_lbl_date'hidden >INVOICE DATE <em>*</em></label></td>
<td><input class="submitval datemandtry"  type="text" name="STDLY_INPUT_db_selectdate" id="STDLY_INPUT_db_selectdate" style="width:70px;" hidden /></td></tr>
<tr>
<td><label id='STDLY_INPUT_lbl_amount' hidden> COMMISSION AMOUNT <em>*</em></label></td>
<td><input   type="text" name="STDLY_INPUT_tb_amount" id="STDLY_INPUT_tb_amount" style="width:50px;"class="submitvalamt"  hidden  />
</tr>
<tr>
<td><label id='STDLY_INPUT_lbl_comments'hidden > COMMENTS </label></td>
<td><textarea name="STDLY_INPUT_ta_comment" id="STDLY_INPUT_ta_comment"hidden ></textarea></td></tr>
<tr>
<!--CREATE ELEMENT FOR SELARY ENTRY PART-->
<td><label id='STDLY_INPUT_lbl_name' hidden> EMPLOYEE NAME </label><em id="STDLY_INPUT_lbl_emp">*</em></td>
<td><select  class="submitval" id='STDLY_INPUT_lb_namelist' name="STDLY_INPUT_lb_namelist" hidden>
<option>SELECT</option>
</select></td></tr>
<tr><td></td><td><table id="STDLY_INPUT_tble_multipleemployee"></table></td></tr>
<tr>
<td><label id='STDLY_INPUT_lbl_cpf' hidden> CPF NUMBER </label></td>
<td><input type="text" name="STDLY_INPUT_tb_cpfno" id="STDLY_INPUT_tb_cpfno" style="width:70px;" hidden  disabled/></td></tr>
<tr>
<td><label id='STDLY_INPUT_lbl_paid'  hidden > PAID DATE <em>*</em></label></td>
<td><input  type="text"  class="submitval datemandtry" name="STDLY_INPUT_db_paiddate" id="STDLY_INPUT_db_paiddate" style="width:70px;" hidden /></td></tr><tr>
<td><label  id='STDLY_INPUT_lbl_from'  hidden> FROM PERIOD <em>*</em></label></td>
<td><input  type="text" class="submitval datemandtry" name="STDLY_INPUT_db_fromdate" id="STDLY_INPUT_db_fromdate" style="width:70px;" hidden /></td></tr>
<tr><td><label id='STDLY_INPUT_lbl_to' hidden> TO PERIOD <em>*</em></label></td>
<td><input  type="text" class="submitval datemandtry" name="STDLY_INPUT_db_todate" id="STDLY_INPUT_db_todate" style="width:70px;" hidden /></td></tr>
<tr><td><label id='STDLY_INPUT_lbl_currentsalary' hidden> SALARY AMOUNT <em>*</em></label></td>
<tr><td></td><td ><input class="radiosubmitval" type="radio" name="STDLY_INPUT_radio_slramt" id="STDLY_INPUT_radio_currentslr"  hidden /><lable id="STDLY_INPUT_lbl_cursal" hidden>CURRENT SALARY</lable></td><td><input  type="text"  name="STDLY_INPUT_tb_hidesal" id="STDLY_INPUT_tb_hidesal" style="width:65px;" hidden disabled /></td><td><input  type="text"  name="STDLY_INPUT_tb_gethiddenesal" id="STDLY_INPUT_tb_gethiddenesal" style="width:70px;" hidden /></td></tr>
<tr><td></td><td ><input class="radiosubmitval" type="radio" name="STDLY_INPUT_radio_slramt" id="STDLY_INPUT_radio_newslr" hidden /><lable id="STDLY_INPUT_lbl_newsal" hidden>NEW SALARY</lable></td><td><input  type="text"  name="STDLY_INPUT_tb_hidesal1" id="STDLY_INPUT_tb_hidesal1" style="width:65px;" class="amtonlysalary radiotextboxsubmitval submitval"  hidden /></td></tr>
<tr><td></td><td ><input class="submitval" type="radio" name="STDLY_INPUT_radio_cpfamt" id="STDLY_INPUT_radio_currentcpfamt"   hidden /><lable id="STDLY_INPUT_lbl_cpamt" hidden>CURRENT CPF AMOUNT</lable></td><td><input  type="text"  name="STDLY_INPUT_tb_hidecpf" id="STDLY_INPUT_tb_hidecpf" style="width:65px;" hidden disabled /></td><td><input  type="text"  name="STDLY_INPUT_tb_gethiddenecpf" id="STDLY_INPUT_tb_gethiddenecpf" style="width:70px;" hidden /></td></tr>
<tr><td></td><td ><input class="radiosubmitval" type="radio" name="STDLY_INPUT_radio_cpfamt" id="STDLY_INPUT_radio_newcpfamt"   hidden /><lable id="STDLY_INPUT_lbl_newcamt" hidden>NEW CPF AMOUNT</lable></td><td><input class="submitval amtonlysalary" type="text"  name="STDLY_INPUT_tb_hidecpf1" id="STDLY_INPUT_tb_hidecpf1" style="width:65px;"  hidden /></td></tr>
<tr><td></td><td ><input class="submitval" type="radio" name="STDLY_INPUT_radio_levyamt" id="STDLY_INPUT_radio_currentlevyamt"   hidden /><lable id="STDLY_INPUT_lbl_curlamt" hidden>CURRENT LEVY AMOUNT</lable></td><td><input  type="text" name="STDLY_INPUT_tb_hidelevy" id="STDLY_INPUT_tb_hidelevy" style="width:65px;" hidden  disabled/></td><td><input  type="text"  name="STDLY_INPUT_tb_gethiddenelevy" id="STDLY_INPUT_tb_gethiddenelevy" style="width:70px;" hidden /></td></tr>
<tr><td></td><td ><input class="radiosubmitval" type="radio" name="STDLY_INPUT_radio_levyamt" id="STDLY_INPUT_radio_newlevyamt"  hidden /><lable id="STDLY_INPUT_lbl_newlamt" hidden>NEW LEVY AMOUNT</lable></td><td><input class="submitval amtonlysalary" type="text" name="STDLY_INPUT_tb_hidelevy1" id="STDLY_INPUT_tb_hidelevy1" style="width:65px;"  hidden /></td></tr>
<tr><td><label id='STDLY_INPUT_lbl_salarycomments'hidden > COMMENTS</label></td>
<td><textarea type="text" name="STDLY_INPUT_ta_salarycommentsbox" id="STDLY_INPUT_ta_salarycommentsbox"  hidden ></textarea></td><td><input type="hidden" id="STDLY_INPUT_hidden_edssid" name="STDLY_INPUT_hidden_edssid"></td></tr>
</table>
<!--CREATE ELEMENT FOR STAFF PART-->
<table id="STDLY_INPUT_tble_multi">
<tr>
<td style="width:240"><label id="STDLY_INPUT_lbl_expense" hidden>CATEGORY OF EXPENSE<em>*</em></label> </td>
<td style="width:150"><label  id="STDLY_INPUT_lbl_invdate" hidden>INVOICE DATE<em>*</em></label></td>
<td style="width:125" ><label id="STDLY_INPUT_lbl_invamt" hidden>INVOICE AMOUNT<em>*</em></label> </td>
<td style="width:150" ><label id="STDLY_INPUT_lbl_invitm" hidden>INVOICE ITEMS<em>*</em></label> </td>
<td style="width:150" ><label id="STDLY_INPUT_lbl_invfrom" hidden>INVOICE FROM<em>*</em></label> </td>
<td style="width:150"><label id="STDLY_INPUT_lbl_invcmt"hidden>COMMENTS</label></td>
</tr><tr>
<td> <select class="submultivalid"   name="STDLY_INPUT_lb_category" id="STDLY_INPUT_lb_category1" hidden ><option >SELECT</option></select> </td> 
<td><input class="submultivalid datemandtry"   type="text" name ="STDLY_INPUT_db_invdate" id="STDLY_INPUT_db_invdate1" style="width:80px;" hidden /> </td>
<td><input   type="text" name ="STDLY_INPUT_lb_incamtrp" id="STDLY_INPUT_lb_incamtrp1"  class="amtonly submultivalid" style="width:40px;"  hidden /></td> 
<td><textarea class="submultivalid"  type="text" name="STDLY_INPUT_ta_invitem" id="STDLY_INPUT_ta_invitem1"  hidden ></textarea></td>
<td><input class="submultivalid autosize"  type="text" name ="STDLY_INPUT_tb_invfrom" id="STDLY_INPUT_tb_invfrom1"hidden /></td>
<td><textarea   type="text" name ="STDLY_INPUT_tb_comments" id="STDLY_INPUT_tb_comments1" hidden ></textarea></td>
<td><input  type='button' value='+' class='addbttn' alt='Add Row' height='30' width='30' name ='STDLY_INPUT_btn_addbtn' id='STDLY_INPUT_btn_addbtn1' hidden disabled/></td>
<td><input  type='button' value='-' class='deletebttn' alt='delete Row' height='30' width='30' name ='STDLY_INPUT_btn_delbtn' id='STDLY_INPUT_btn_delbtn1' hidden disabled /></td>
</tr></table>
<!--SAVE AND RESET BUTTON USED IN FORM -->
<table>
<tr><td><input    type="text" name ="STDLY_INPUT_hideaddid" id="STDLY_INPUT_hideaddid" hidden /> </td></tr>
<tr><td><input    type="text" name ="STDLY_INPUT_hideremoveid" id="STDLY_INPUT_hideremoveid" hidden /> </td></tr>
<tr><td><input    type="text" name ="STDLY_INPUT_hidetablerowid" id="STDLY_INPUT_hidetablerowid" hidden /> </td></tr>
<tr><td><input type="button"   id="STDLY_INPUT_btn_staffsbutton"   value="SAVE" class="btn submit" hidden disabled/></td></tr>
</table>
<div>
<table id="PDLY_INPUT_tble_button">
<tr><td align="right" style="width:200px"><input type="button"   id="STDLY_INPUT_btn_sbutton"   value="SAVE" class="btn submit" hidden disabled/></td>
<td align="left"><input type="button"  id="STDLY_INPUT_btn_rbutton" value="RESET" class="btn resetsubmit" hidden /></td></tr>
</table>
</div>
<table>
<tr><td><label id='STDLY_INPUT_lbl_erromsg' class="errormsg" hidden></label></td></tr><br>
<tr><td><label id='STDLY_INPUT_lbl_edtlerromsg' class="errormsg" hidden></label></td></tr>
<!--TABLE END-->
</table>
<!--FORM END-->
</form>
<!--BODY END-->
</div>
<!--MASKPANEL DIV END-->
</body>
<!--HTML END-->
</html>